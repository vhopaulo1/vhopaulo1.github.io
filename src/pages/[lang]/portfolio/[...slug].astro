---
import { getCollection } from 'astro:content';
import PortfolioPostPage from '../../../components/pages/PortfolioPostPage.astro';

export async function getStaticPaths() {
	const posts = await getCollection('portfolio');
    const ptPosts = posts.filter(p => p.id.startsWith('pt-br/'));
	return ptPosts.map((post) => ({
		params: {
            lang: 'pt-br',
			slug: post.data.title
				.toLowerCase()
				.replace(/[^a-z0-9]+/g, "-")
				.replace(/^-|-$/g, ""),
		},
		props: post,
	}));
}

const post = Astro.props;
---

<PortfolioPostPage post={post} lang="pt-br" />
